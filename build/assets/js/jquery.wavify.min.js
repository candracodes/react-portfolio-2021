(function(a){a.fn.wavify=function(b){function c(b){for(var c=[],d=0;d<=g.bones;d++){var e=d/g.bones*j,f=100*((b+(d+d%g.bones))*g.speed),h=Math.sin(f/100)*g.amplitude,k=Math.sin(f/100)*h+(1-g.height)*a(window).height();c.push({x:e,y:k})}return c}function d(a){var b="M "+a[0].x+" "+a[0].y,c={x:(a[1].x-a[0].x)/2,y:a[1].y-a[0].y+a[0].y+(a[1].y-a[0].y)};b+=" C "+c.x+" "+c.y+" "+c.x+" "+c.y+" "+a[1].x+" "+a[1].y;for(var d=c,e=-1,f=1;f<a.length-1;f++){var g=Math.sqrt(d.x*d.x+d.y*d.y),h={x:a[f].x-d.x+a[f].x,y:a[f].y-d.y+a[f].y};b+=" C "+h.x+" "+h.y+" "+h.x+" "+h.y+" "+a[f+1].x+" "+a[f+1].y,d=h,e=-e}return b+=" L "+j+" "+k,b+=" L 0 "+k+" Z",b}function e(){var a=window.Date.now();if(f){var b=(a-f)/1e3;f=a,m+=b;var i=m*Math.PI;TweenMax.to(h,g.speed,{attr:{d:d(c(i))},ease:Power1.easeInOut})}else f=a;requestAnimationFrame(e)}var f,g=a.extend({container:b.container?b.container:"body",height:200,amplitude:100,speed:.15,bones:3,color:"rgba(255,255,255, 0.20)"},b),h=this,j=a(g.container).width(),k=a(g.container).height(),l=[],m=0;TweenLite.set(h,{attr:{fill:g.color}});var n=function(a,b,c){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),c&&!d&&a.apply(e,f)}}(function(){h.attr("d",""),l=[],m=0,j=a(g.container).width(),k=a(g.container).height(),f=!1,setTimeout(function(){e()},50)},250);return a(window).on("resize",n),e()}})(jQuery);